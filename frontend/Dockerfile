FROM node:18-alpine AS development

ENV NODE_ENV=development
WORKDIR /app

ARG REACT_APP_FUNGUS_BACKEND_PORT
ENV REACT_APP_FUNGUS_BACKEND_PORT $REACT_APP_FUNGUS_BACKEND_PORT

ARG REACT_APP_AP_BACKEND_PORT
ENV REACT_APP_AP_BACKEND_PORT $REACT_APP_AP_BACKEND_PORT

ARG REACT_APP_SOCIAL_URL
ENV REACT_APP_SOCIAL_URL $REACT_APP_SOCIAL_URL

ARG REACT_APP_SEMANTIC_URL
ENV REACT_APP_SEMANTIC_URL $REACT_APP_SEMANTIC_URL

ARG REACT_APP_FUNGUS_ID
ENV REACT_APP_FUNGUS_ID $REACT_APP_FUNGUS_ID

COPY package*.json ./
RUN npm install

COPY . .
CMD ["npm", "start"]
